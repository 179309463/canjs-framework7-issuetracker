define(["mtemplate!app/pages/editissuepage/editissuepage.html","mtemplate!app/pages/editissuepage/pagenavbar.html","basecontroller"],function(e,t,n){n.extend("Page.EditIssuePage",{},{template:e,preRender:function(e){e.issue==null?(e.attr("issue",new Model.Issue),e.attr("navbarTitle","Create Issue")):e.attr("navbarTitle","Edit Issue")},renderNavbar:function(e){var n=this,r=this.options;e.html(t(r))},"a#cancel click":function(e,t){t.stop(),this.element.trigger("close")},"a#save click":function(e,t){t.stop();var n=this;this.options.issue.save().done(function(e){n.element.trigger("close")})},destroy:function(){this.options.issue.restore(),this._super()}})});